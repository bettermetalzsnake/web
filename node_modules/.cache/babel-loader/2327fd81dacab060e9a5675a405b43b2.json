{"ast":null,"code":"import _defineProperty from\"/usr/src/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/usr/src/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/usr/src/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/usr/src/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/usr/src/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/usr/src/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/usr/src/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/usr/src/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import api from'./Api';import'./App.css';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={user:null,email:'',password:''};_this.loginUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _this$state,email,password,_ref2,token,_ref3,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this$state=_this.state,email=_this$state.email,password=_this$state.password;_context.next=4;return api.loginUser(email,password);case 4:_ref2=_context.sent;token=_ref2.data;_context.next=8;return api.getUser(token);case 8:_ref3=_context.sent;user=_ref3.data;_this.setState({user:user});case 11:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.inputChange=function(e){return _this.setState(_defineProperty({},e.target.id,e.target.value));};_this.renderLoginForm=function(){var _this$state2=_this.state,email=_this$state2.email,password=_this$state2.password;return React.createElement(\"form\",{onSubmit:_this.loginUser},React.createElement(\"h1\",null,\"An Awesome Form on React\"),React.createElement(\"label\",{htmlFor:\"email\"},React.createElement(\"span\",null,\"Email:\"),React.createElement(\"input\",{onChange:_this.inputChange,value:email,id:\"email\",name:\"email\",type:\"email\"})),React.createElement(\"br\",null),React.createElement(\"label\",{htmlFor:\"password\"},React.createElement(\"span\",null,\"Password:\"),React.createElement(\"input\",{onChange:_this.inputChange,value:password,id:\"password\",name:\"password\",type:\"password\"})),React.createElement(\"br\",null),React.createElement(\"button\",{type:\"submit\"},\"Login\"));};return _this;}_createClass(App,[{key:\"render\",value:function render(){var user=this.state.user;return React.createElement(\"div\",{className:\"App\"},user?React.createElement(React.Fragment,null,React.createElement(\"div\",null,\"Welcome \".concat(user.email,\"!\")),React.createElement(\"div\",null,\"Your name is \".concat(user.firstname,\" \").concat(user.lastname))):this.renderLoginForm());}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/usr/src/web/src/App.js"],"names":["React","Component","api","App","state","user","email","password","loginUser","e","preventDefault","token","data","getUser","setState","inputChange","target","id","value","renderLoginForm","firstname","lastname"],"mappings":"qiCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEI,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,CAEA,MAAO,WAAP,C,GAEMC,CAAAA,G,mXACJC,K,CAAQ,CACNC,IAAI,CAAE,IADA,CAENC,KAAK,CAAE,EAFD,CAGNC,QAAQ,CAAE,EAHJ,C,OAMRC,S,0FAAY,iBAAOC,CAAP,wKACVA,CAAC,CAACC,cAAF,GADU,YAGkB,MAAKN,KAHvB,CAGFE,KAHE,aAGFA,KAHE,CAGKC,QAHL,aAGKA,QAHL,uBAKoBL,CAAAA,GAAG,CAACM,SAAJ,CAAcF,KAAd,CAAqBC,QAArB,CALpB,4BAKII,KALJ,OAKFC,IALE,uBAOmBV,CAAAA,GAAG,CAACW,OAAJ,CAAYF,KAAZ,CAPnB,4BAOIN,IAPJ,OAOFO,IAPE,CASV,MAAKE,QAAL,CAAc,CAAET,IAAI,CAAJA,IAAF,CAAd,EATU,uD,qEAYZU,W,CAAc,SAAAN,CAAC,QAAI,OAAKK,QAAL,oBAAiBL,CAAC,CAACO,MAAF,CAASC,EAA1B,CAA+BR,CAAC,CAACO,MAAF,CAASE,KAAxC,EAAJ,E,OAEfC,e,CAAkB,UAAM,kBACM,MAAKf,KADX,CACdE,KADc,cACdA,KADc,CACPC,QADO,cACPA,QADO,CAGtB,MACE,6BAAM,QAAQ,CAAE,MAAKC,SAArB,EACE,yDADF,CAEE,6BAAO,OAAO,CAAC,OAAf,EACE,yCADF,CAEE,6BAAO,QAAQ,CAAE,MAAKO,WAAtB,CAAmC,KAAK,CAAET,KAA1C,CAAiD,EAAE,CAAC,OAApD,CAA4D,IAAI,CAAC,OAAjE,CAAyE,IAAI,CAAC,OAA9E,EAFF,CAFF,CAME,8BANF,CAOE,6BAAO,OAAO,CAAC,UAAf,EACE,4CADF,CAEE,6BAAO,QAAQ,CAAE,MAAKS,WAAtB,CAAmC,KAAK,CAAER,QAA1C,CAAoD,EAAE,CAAC,UAAvD,CAAkE,IAAI,CAAC,UAAvE,CAAkF,IAAI,CAAC,UAAvF,EAFF,CAPF,CAWE,8BAXF,CAYE,8BAAQ,IAAI,CAAC,QAAb,UAZF,CADF,CAgBD,C,sEAES,IACAF,CAAAA,IADA,CACS,KAAKD,KADd,CACAC,IADA,CAGR,MACE,4BAAK,SAAS,CAAC,KAAf,EACGA,IAAI,CACH,wCACE,iDAAiBA,IAAI,CAACC,KAAtB,MADF,CAEE,sDAAsBD,IAAI,CAACe,SAA3B,aAAwCf,IAAI,CAACgB,QAA7C,EAFF,CADG,CAKD,KAAKF,eAAL,EANN,CADF,CAUD,C,iBAvDelB,S,EA0DlB,cAAeE,CAAAA,GAAf","sourcesContent":["import React, { Component } from 'react'\n\n    import api from './Api'\n    \n    import './App.css'\n    \n    class App extends Component {\n      state = {\n        user: null,\n        email: '',\n        password: '',\n      }\n    \n      loginUser = async (e) => {\n        e.preventDefault()\n    \n        const { email, password } = this.state\n    \n        const { data: token } = await api.loginUser(email, password)\n    \n        const { data: user } = await api.getUser(token)\n    \n        this.setState({ user })\n      }\n    \n      inputChange = e => this.setState({ [e.target.id]: e.target.value })\n    \n      renderLoginForm = () => {\n        const { email, password } = this.state\n    \n        return (\n          <form onSubmit={this.loginUser}>\n            <h1>An Awesome Form on React</h1>\n            <label htmlFor=\"email\">\n              <span>Email:</span>\n              <input onChange={this.inputChange} value={email} id=\"email\" name=\"email\" type=\"email\" />\n            </label>\n            <br />\n            <label htmlFor=\"password\">\n              <span>Password:</span>\n              <input onChange={this.inputChange} value={password} id=\"password\" name=\"password\" type=\"password\" />\n            </label>\n            <br />\n            <button type=\"submit\">Login</button>\n          </form>\n        )\n      }\n    \n      render () {\n        const { user } = this.state\n    \n        return (\n          <div className=\"App\">\n            {user ? (\n              <>\n                <div>{`Welcome ${user.email}!`}</div>\n                <div>{`Your name is ${user.firstname} ${user.lastname}`}</div>\n              </>\n            ) : this.renderLoginForm()}\n          </div>\n        )\n      }\n    }\n    \n    export default App\n"]},"metadata":{},"sourceType":"module"}